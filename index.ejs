<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= data.dir.name %></title>
    <meta property="og:site_name" content="<%= data.serverName %>" />
    <meta property="og:title" content="<%= data.dir.name %>" />
    <meta name="theme-color" content="">
    <link rel="icon" href="">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,1,0" />
    <link href="?expressFileIndexAsset=base.css" rel="stylesheet">
    <link href="?expressFileIndexAsset=index.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/dayjs@1/dayjs.min.js" defer></script>
    <script src="?expressFileIndexAsset=base.js" defer></script>
    <script src="?expressFileIndexAsset=index.js" defer></script>
</head>
<body data-color-mode="dark" data-can-folders-download="<%= data.allowZipDownloads %>" data-file-time-format="<%= data.fileTimeFormat %>">
    <div class="container">
        <div class="header">
            <% if (data.ancestors.length) { %>
                <div class="ancestors">
                    <% for (const ancestor of data.ancestors) { %>
                        <a href="<%= ancestor.path %>" class="link"><%= ancestor.name %></a>
                        <span class="sep">/</span>
                    <% } %>
                </div>
            <% } %>
            <div class="title"><%= data.dir.name %></div>
            <div class="actions">
                <button id="btnShareDir" class="btn" title="Copy the link to this folder">
                    <span class="icon">link</span>
                    <span class="label">Copy link</span>
                </button>
                <button id="btnSort" class="btn secondary" title="Change file sort order...">
                    <span class="icon">sort</span>
                    <span class="label">Sort...</span>
                </button>
                <% if (data.allowZipDownloads) { %>
                    <a href="?zip=true" class="btn secondary square" download title="Download this folder as zip">
                        <span class="icon">download</span>
                    </a>
                <% } %>
            </div>
        </div>
        <div class="files">
            <div class="colHeaders">
                <div class="icon"></div>
                <div class="name">
                    <span>Name</span>
                    <% if (data.sortType == 'name') { %>
                        <span class="icon"><%= data.sortOrder == 'asc' ? 'keyboard_arrow_down' : 'keyboard_arrow_up' %></span>
                    <% } %>
                </div>
                <div class="modified">
                    <span>Modified</span>
                    <% if (data.sortType == 'modified') { %>
                        <span class="icon"><%= data.sortOrder == 'asc' ? 'keyboard_arrow_down' : 'keyboard_arrow_up' %></span>
                    <% } %>
                </div>
                <div class="size">
                    <span>Size</span>
                    <% if (data.sortType == 'size') { %>
                        <span class="icon"><%= data.sortOrder == 'asc' ? 'keyboard_arrow_down' : 'keyboard_arrow_up' %></span>
                    <% } %>
                </div>
            </div>
            <div class="entries">
                <% for (const file of data.files) { %>
                    <a class="entry" href="<%= file.path %>" data-json="<%= JSON.stringify(file) %>">
                        <div class="icon material-symbols <%= file.type %>"><%= file.icon %></div>
                        <div class="name" title="<%= file.name %>">
                            <span><%= file.name %></span>
                            <% if (file.modified != '-' && file.size != '-') { %>
                                <span class="nameLore">
                                    <span data-timestamp="<%= file.modified %>"></span>
                                    <span>â€¢</span>
                                    <span data-bytes="<%= file.size %>"></span>
                                </span>
                            <% } %>
                        </div>
                        <div class="modified" data-timestamp="<%= file.modified %>">-</div>
                        <div class="size" data-bytes="<%= file.size %>">-</div>
                    </a>
                <% } %>
            </div>
        </div>
        <% if (data.readmeHtml) { %>
            <div id="readme">
                <div class="top">
                    <span class="icon">menu_book</span>
                    <span>README.md</span>
                </div>
                <div class="body">
                    <%- data.readmeHtml %>
                </div>
            </div>
        <% } %>
        <div class="footer">
            Index provided by <a href="https://www.npmjs.com/package/express-file-index">express-file-index</a>
            <br>Node.js <%= data.nodejsVersion %> on <%= data.osPlatform %> <%= data.osArch %>
            <br>Index generated in <%= Date.now() - data.renderStartTime %> ms
        </div>
    </div>
</body>
</html>